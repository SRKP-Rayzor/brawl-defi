<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>D√©fi Brawl Stars</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Lilita+One&display=swap" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.6.0/remixicon.min.css" rel="stylesheet">
<script src="https://cdn.tailwindcss.com/3.4.16"></script>
<script src="https://kit.fontawesome.com/6a12c1af48.js" crossorigin="anonymous"></script>
<script>tailwind.config={theme:{extend:{colors:{primary:'#FDCD22',secondary:'#9013FE'},borderRadius:{'none':'0px','sm':'8px',DEFAULT:'12px','md':'16px','lg':'20px','xl':'24px','2xl':'28px','3xl':'32px','full':'9999px','button':'12px'}}}}</script>
<style>
:where([class^="ri-"])::before { content: "\f3c2"; }
body {
font-family: 'Lilita One', cursive;
background-image: url('https://cdn-assets-eu.frontify.com/s3/frontify-enterprise-files-eu/eyJwYXRoIjoic3VwZXJjZWxsXC9maWxlXC9tQ0RoYlBTRzR2Y3lUTWZZSkNwSy5wbmcifQ:supercell:dGv8fX-IhT--hYL3ZxOeobTi9tqGFgkbZYdZjVPNxZ4?width=2400');
background-size: cover;
background-position: center;
background-attachment: fixed;
}
.brawler-card {
transition: all 0.3s ease;
}
.brawler-card.animate {
transform: scale(1.05);
}
.rank-badge {
text-shadow: 0 2px 4px rgba(0,0,0,0.3);
}
.button-generate:active {
transform: scale(0.98);
}
@keyframes spin {
0% { transform: rotate(0deg); }
100% { transform: rotate(360deg); }
}
.loading {
animation: spin 1s linear infinite;
}
.share-modal {
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
background-color: rgba(0, 0, 0, 0.5);
display: flex;
align-items: center;
justify-content: center;
z-index: 50;
opacity: 0;
visibility: hidden;
transition: opacity 0.3s, visibility 0.3s;
}
.share-modal.active {
opacity: 1;
visibility: visible;
}
.share-modal-content {
background-color: white;
border-radius: 12px;
padding: 24px;
width: 85%;
max-width: 320px;
transform: scale(0.9);
transition: transform 0.3s;
}
.share-modal.active .share-modal-content {
transform: scale(1);
}
.completed-challenge {
position: relative;
}
.completed-challenge::after {
content: '';
position: absolute;
top: 0;
left: 0;
width: 100%;
height: 100%;
background-color: rgba(0, 0, 0, 0.1);
border-radius: 12px;
z-index: 1;
}
.completed-challenge::before {
content: '‚úì';
position: absolute;
top: 50%;
left: 50%;
transform: translate(-50%, -50%);
width: 60px;
height: 60px;
background-color: rgba(34, 197, 94, 0.9);
border-radius: 50%;
display: flex;
align-items: center;
justify-content: center;
color: white;
font-size: 32px;
z-index: 2;
box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}
body.generating {
position: relative;
}
body.generating::after {
content: '';
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
background: radial-gradient(circle, rgba(253, 205, 34, 0.1) 0%, rgba(255, 255, 255, 0) 70%);
animation: pulse 2s infinite;
pointer-events: none;
z-index: -1;
}
@keyframes pulse {
0% { opacity: 0.3; }
50% { opacity: 0.7; }
100% { opacity: 0.3; }
}
</style>
</head>
<body class="min-h-screen flex flex-col items-center pt-14 pb-20">
<header class="fixed top-0 w-full bg-white/90 backdrop-blur-sm shadow-md z-10">
<div class="flex items-center justify-center h-14 px-4">
<h1 class="text-2xl text-primary font-['Lilita_One'] tracking-wide">D√©fi Brawl Stars</h1>
</div>
</header>
<main class="w-full max-w-md px-4 flex-1 flex flex-col items-center justify-center gap-8 mt-4">
<div id="brawler-container" class="brawler-card w-full bg-white/90 rounded-xl shadow-lg overflow-hidden">
<div class="p-6 flex flex-col items-center">
<div class="w-48 h-48 rounded-full bg-primary/10 mb-4 overflow-hidden flex items-center justify-center">
<img id="brawler-image" src="https://cdn-assets-eu.frontify.com/s3/frontify-enterprise-files-eu/eyJwYXRoIjoic3VwZXJjZWxsXC9maWxlXC9oZnRURHd5TllLRlNhRUJpblZkRi5wbmcifQ:supercell:3JGPmuxpg6448n3x4x2AhpmrTtjnL0JeACm_sJexZgw?width=2400" alt="" class="w-full h-full object-contain">
</div>
<h2 id="brawler-name" class="text-2xl text-gray-800 font-['Lilita_One'] mb-2">?</h2>
<div class="w-full mt-4">
<div class="text-center mb-2 text-gray-600 font-medium">Objectif</div>
<div id="rank-container" class="flex items-center justify-center">
<div id="rank-badge" class="rank-badge text-4xl font-['Lilita_One'] text-white px-6 py-3 rounded-xl bg-orange-500">
Rang <span id="rank-number">?</span>
</div>
</div>
<div class="text-center mt-4 text-sm text-gray-500">
Atteins ce rang avec ce Brawler !
</div>
</div>
</div>
</div>
<div class="w-full space-y-4">
<button id="generate-button" class="button-generate w-full py-4 bg-primary text-white text-xl font-['Lilita_One'] !rounded-button shadow-lg flex items-center justify-center gap-2 hover:bg-primary/90 transition-all cursor-pointer">
<i class="fa-solid fa-rotate"></i>
G√©n√©rer un Nouveau D√©fi
</button>
<div class="flex gap-3">
<button id="share-button" class="w-1/2 py-3 bg-secondary text-white font-['Lilita_One'] !rounded-button shadow-md flex items-center justify-center gap-2 hover:bg-secondary/90 transition-all cursor-pointer">
<i class="fa-solid fa-arrow-up-from-bracket"></i>
Partager
</button>
<button id="complete-button" class="w-1/2 py-3 bg-green-500 text-white font-['Lilita_One'] !rounded-button shadow-md flex items-center justify-center gap-2 hover:bg-green-600 transition-all cursor-pointer">
<i class="fa-solid fa-check"></i>
Marquer Compl√©t√©
</button>
</div>
</div>
</main>
<footer class="fixed bottom-0 w-full bg-white/90 backdrop-blur-sm shadow-lg">
<div class="grid grid-cols-3 h-16">
<a href="javascript:void(0)" onclick="navigateTo('home')" class="flex flex-col items-center justify-center text-primary">
<div class="w-6 h-6 flex items-center justify-center">
<i class="fa-solid fa-house"></i>
</div>
<span class="text-xs mt-1">Accueil</span>
</a>
<a href="javascript:void(0)" onclick="navigateTo('history')" class="flex flex-col items-center justify-center text-gray-500">
<div class="w-6 h-6 flex items-center justify-center">
<i class="fa-solid fa-clock-rotate-left"></i>
</div>
<span class="text-xs mt-1">Historique</span>
</a>
<a href="javascript:void(0)" onclick="navigateTo('settings')" class="flex flex-col items-center justify-center text-gray-500">
<div class="w-6 h-6 flex items-center justify-center">
<i class="fa-solid fa-gear"></i>
</div>
<span class="text-xs mt-1">Param√®tres</span>
</a>
</div>
</footer>
<script>
const brawlers = [
{name: 'Shelly', image: 'shelly_portrait.png'},
{name: 'Nita', image: 'nita_portrait.png'},
{name: 'Colt', image: 'colt_portrait.png'},
{name: 'Bull', image: 'bull_portrait.png'},
{name: 'Brock', image: 'brock_portrait (1).png'},
{name: 'Dynamike', image: 'dynamike_portrait.png'},
{name: 'Bo', image: 'bo_portrait.png'},
{name: 'Tick', image: 'tick_portrait.png'},
{name: 'A.R.K.A.D.', image: '8bit_portrait.png'},
{name: 'Eliz@', image: 'emz_portrait.png'},
{name: 'El Costo', image: 'elprimo_portrait.png'},
{name: 'Bartaba', image: 'barley_portrait.png'},
{name: 'Poco', image: 'poco_portrait.png'},
{name: 'Rosa', image: 'rosa_portrait.png'},
{name: 'Ricochet', image: 'rico_portrait.png'},
{name: 'Darryl', image: 'darryl_portrait.png'},
{name: 'Penny', image: 'penny_portrait.png'},
{name: 'Carl', image: 'carl_portrait.png'},
{name: 'Jacky', image: 'jacky_portrait.png'},
{name: 'Poly', image: 'piper_portrait.png'},
{name: 'Pam', image: 'pam_portrait.png'},
{name: 'Frank', image: 'franck_portrait.png'},
{name: 'Billie', image: 'bibi_portrait.png'},
{name: 'B√©a', image: 'bea_portrait.png'},
{name: 'Nani', image: 'nani_portrait.png'},
{name: 'Edgar', image: 'edgar_portrait.png'},
{name: 'Griff', image: 'griff_portrait.png'},
{name: 'Grom', image: 'grom_portrait.png'},
{name: 'Bonnie', image: 'bonnie_portrait.png'},
{name: 'Fang', image: 'fang_portrait.png'},
{name: 'Gray', image: 'gray_portrait.png'},
{name: 'Willow', image: 'willow_portrait.png'},
{name: 'Maisie', image: 'maisie_portrait.png'},
{name: 'Hank', image: 'hank_portrait.png'},
{name: 'Pearl', image: 'pearl_portrait.png'},
{name: 'Jessie', image: 'jessie_portrait.png'},
{name: 'Chuck', image: 'chuck_portrait.png'},
{name: 'Gus', image: 'gus_portrait.png'},
{name: 'Stu', image: 'stu_portrait.png'},
{name: 'Ga√´l', image: 'gale_portrait.png'},
{name: 'Colette', image: 'colette_portrait.png'},
{name: 'Belle', image: 'belle_portrait.png'},
{name: 'Ash', image: 'ash_portrait.png'},
{name: 'Lola', image: 'lola_portrait.png'},
{name: 'Sam', image: 'sam_portrait.png'},
{name: 'Mandy', image: 'mandy_portrait.png'},
{name: 'Larry & Lawrie', image: 'larry&lawrie_portrait.png'},
{name: 'Angelo', image: 'angelo_portrait.png'},
{name: 'Berry', image: 'berry_portrait.png'},
{name: 'Shade', image: 'shade_portrait.png'},
{name: 'Meeple', image: 'meeple_portrait.png'},
{name: 'Mortis', image: 'mortis_portrait.png'},
{name: 'Tara', image: 'tara_portrait.png'},
{name: "D'jinn", image: 'gene_portrait.png'},
{name: 'Max', image: 'max_portrait.png'},
{name: 'Wally', image: 'sprout_portrait.png'},
{name: 'Byron', image: 'byron_portrait.png'},
{name: 'Squeak', image: 'squeak_portrait.png'},
{name: 'M√©dor', image: 'ruffs_portrait.png'},
{name: 'Buzz', image: 'buzz_portrait.png'},
{name: 'Eve', image: 'eve_portrait.png'},
{name: 'Janet', image: 'janet_portrait.png'},
{name: 'Otis', image: 'otis_portrait.png'},
{name: 'Charlie', image: 'charlie_portrait.png'},
{name: 'Mico', image: 'mico_portrait.png'},
{name: 'Lily', image: 'lily_portrait.png'},
{name: 'Ollie', image: 'ollie_portrait.png'},
{name: 'Spike', image: 'spike_portrait.png'},
{name: 'Corbac', image: 'crow_portrait.png'},
{name: 'L√©on', image: 'leon_portrait.png'},
{name: '√âmeri', image: 'sandy_portrait.png'},
{name: 'Ambre', image: 'amber_portrait.png'},
{name: 'Meg', image: 'meg_portrait.png'},
{name: 'Surge', image: 'surge_portrait.png'},
{name: 'Chester', image: 'chester_portrait.png'},
{name: 'Cordeluis', image: 'cordeluis_portrait.png'},
{name: 'Kit', image: 'kit_portrait.png'},
{name: 'Draco', image: 'draco_portrait.png'},
{name: 'Kenji', image: 'kenji_portrait.png'},
{name: 'Monsieur M.', image: 'mrp_portrait.png'},
{name: 'Lou', image: 'lou_portrait.png'},
{name: 'Buster', image: 'buster_portrait.png'},
{name: 'R-T', image: 'rt_portrait.png'},
{name: 'Melody', imag: 'melody_portrait.png'},
{name: 'Clancy', image: 'clancy_portrait.png'},
{name: 'Moe', image: 'moe_portrait.png'},
{name: 'Juju', image: 'juju_portrait.png'},
{name: 'Doug', image: 'doug_portrait.png'},
{name: 'Lumi', image: 'lumi_portrait.png'}
];

const generateButton = document.getElementById('generate-button');
const brawlerImage = document.getElementById('brawler-image');
const brawlerName = document.getElementById('brawler-name');
const rankNumber = document.getElementById('rank-number');
const rankBadge = document.getElementById('rank-badge');
const brawlerContainer = document.getElementById('brawler-container');
// Historique des d√©fis
let challengeHistory = [];
function getRandomBrawler() {
return brawlers[Math.floor(Math.random() * brawlers.length)];
}
function getRandomRank() {
return Math.floor(Math.random() * (51 - 25 + 1)) + 25;
}
function updateRankColor(rank) {
if (rank >= 46) {
rankBadge.classList.remove('bg-orange-500', 'bg-red-500');
rankBadge.classList.add('bg-purple-600');
} else if (rank >= 36) {
rankBadge.classList.remove('bg-orange-500', 'bg-purple-600');
rankBadge.classList.add('bg-red-500');
} else {
rankBadge.classList.remove('bg-red-500', 'bg-purple-600');
rankBadge.classList.add('bg-orange-500');
}
}
function generateNewChallenge() {
// D√©sactiver le bouton pendant le chargement
generateButton.disabled = true;
generateButton.classList.add('opacity-70');
// Animation de chargement am√©lior√©e
generateButton.innerHTML = '<div class="flex items-center justify-center gap-2"><i class="ri-loader-4-line ri-lg loading"></i> <span>G√©n√©ration en cours...</span></div>';
// Ajouter une animation de fond
document.body.classList.add('generating');
// Cr√©er un overlay de chargement
const loadingOverlay = document.createElement('div');
loadingOverlay.className = 'fixed inset-0 bg-black/30 flex items-center justify-center z-20 backdrop-blur-sm transition-opacity duration-300 opacity-0';
loadingOverlay.innerHTML = `
<div class="bg-white rounded-xl p-6 flex flex-col items-center">
<div class="w-16 h-16 flex items-center justify-center text-primary">
<i class="ri-gamepad-line ri-3x animate-bounce"></i>
</div>
<p class="mt-4 text-gray-800 font-['Lilita_One']">Pr√©paration du d√©fi...</p>
</div>
`;
document.body.appendChild(loadingOverlay);
// Afficher l'overlay avec animation
setTimeout(() => loadingOverlay.classList.add('opacity-100'), 50);
setTimeout(() => {
brawlerContainer.classList.add('animate');
setTimeout(() => {
const randomBrawler = getRandomBrawler();
const randomRank = getRandomRank();
brawlerImage.src = randomBrawler.image;
brawlerName.textContent = randomBrawler.name;
rankNumber.textContent = randomRank;
updateRankColor(randomRank);
// Masquer l'overlay avec animation
loadingOverlay.classList.remove('opacity-100');
setTimeout(() => {
document.body.removeChild(loadingOverlay);
brawlerContainer.classList.remove('animate');
// R√©activer le bouton
generateButton.disabled = false;
generateButton.classList.remove('opacity-70');
generateButton.innerHTML = '<i class="fa-solid fa-rotate"></i> G√©n√©rer Nouveau D√©fi';
// Afficher une confirmation
showConfirmation(`Nouveau d√©fi g√©n√©r√© : ${randomBrawler.name} - Rang ${randomRank}`);
// Ajouter √† l'historique
addToHistory(randomBrawler.name, randomRank, randomBrawler.image);
// R√©initialiser l'√©tat des boutons de partage et de compl√©tion
document.getElementById('share-button').classList.remove('bg-gray-400', 'hover:bg-gray-500');
document.getElementById('share-button').classList.add('bg-secondary', 'hover:bg-secondary/90');
document.getElementById('share-button').disabled = false;
document.getElementById('complete-button').classList.remove('bg-gray-400', 'hover:bg-gray-500');
document.getElementById('complete-button').classList.add('bg-green-500', 'hover:bg-green-600');
document.getElementById('complete-button').disabled = false;
document.body.classList.remove('generating');
}, 300);
}, 300);
}, 1200);
}
function showConfirmation(message) {
const confirmation = document.createElement('div');
confirmation.className = 'fixed top-16 left-1/2 transform -translate-x-1/2 bg-green-500 text-white px-4 py-3 rounded-lg shadow-lg z-50 transition-all duration-300 opacity-0 translate-y-[-20px] max-w-[90%]';
confirmation.innerHTML = `
<div class="flex items-center gap-2">
<i class="ri-checkbox-circle-line ri-lg"></i>
<span>${message}</span>
</div>
`;
document.body.appendChild(confirmation);
// Afficher la confirmation
setTimeout(() => {
confirmation.classList.remove('opacity-0', 'translate-y-[-20px]');
confirmation.classList.add('opacity-100', 'translate-y-0');
}, 100);
// Masquer et supprimer la confirmation apr√®s 3 secondes
setTimeout(() => {
confirmation.classList.remove('opacity-100', 'translate-y-0');
confirmation.classList.add('opacity-0', 'translate-y-[-20px]');
setTimeout(() => {
document.body.removeChild(confirmation);
}, 300);
}, 3000);
}
function addToHistory(brawlerName, rank, image) {
const date = new Date();
const formattedDate = `${date.getDate()}/${date.getMonth() + 1}/${date.getFullYear()}`;
challengeHistory.unshift({
brawlerName,
rank,
image,
date: formattedDate
});
// Limiter l'historique √† 20 entr√©es
if (challengeHistory.length > 20) {
challengeHistory.pop();
}
// Sauvegarder dans localStorage
localStorage.setItem('brawlChallengeHistory', JSON.stringify(challengeHistory));
}
function loadHistory() {
const savedHistory = localStorage.getItem('brawlChallengeHistory');
if (savedHistory) {
challengeHistory = JSON.parse(savedHistory);
}
}
// Navigation entre les pages
function navigateTo(page) {
const mainContent = document.querySelector('main');
const navLinks = document.querySelectorAll('footer a');
// Mettre √† jour les liens actifs
navLinks.forEach(link => {
link.classList.remove('text-primary');
link.classList.add('text-gray-500');
});
// Trouver le lien actif et le mettre en surbrillance
const activeLink = document.querySelector(`footer a[onclick="navigateTo('${page}')"]`);
if (activeLink) {
activeLink.classList.remove('text-gray-500');
activeLink.classList.add('text-primary');
}
// Afficher la page correspondante
switch(page) {
case 'home':
mainContent.innerHTML = `
<div id="brawler-container" class="brawler-card w-full bg-white/90 rounded-xl shadow-lg overflow-hidden">
<div class="p-6 flex flex-col items-center">
<div class="w-48 h-48 rounded-full bg-primary/10 mb-4 overflow-hidden flex items-center justify-center">
<img id="brawler-image" src="${brawlerImage.src}" alt="Brawler" class="w-full h-full object-contain">
</div>
<h2 id="brawler-name" class="text-2xl text-gray-800 font-['Lilita_One'] mb-2">${brawlerName.textContent}</h2>
<div class="w-full mt-4">
<div class="text-center mb-2 text-gray-600 font-medium">Objectif</div>
<div id="rank-container" class="flex items-center justify-center">
<div id="rank-badge" class="rank-badge text-4xl font-['Lilita_One'] text-white px-6 py-3 rounded-xl ${rankBadge.className.split(' ').filter(c => c.startsWith('bg-')).join(' ')}">
Rang <span id="rank-number">${rankNumber.textContent}</span>
</div>
</div>
<div class="text-center mt-4 text-sm text-gray-500">
Atteins ce rang avec ce Brawler !
</div>
</div>
</div>
</div>
<div class="w-full space-y-4">
<button id="generate-button" class="button-generate w-full py-4 bg-primary text-white text-xl font-['Lilita_One'] !rounded-button shadow-lg flex items-center justify-center gap-2 hover:bg-primary/90 transition-all cursor-pointer">
<i class="fa-solid fa-rotate"></i>
G√©n√©rer Nouveau D√©fi
</button>
<div class="flex gap-3">
<button id="share-button" class="w-1/2 py-3 bg-secondary text-white font-['Lilita_One'] !rounded-button shadow-md flex items-center justify-center gap-2 hover:bg-secondary/90 transition-all cursor-pointer">
<i class="fa-solid fa-arrow-up-from-bracket"></i>
Partager
</button>
<button id="complete-button" class="w-1/2 py-3 bg-green-500 text-white font-['Lilita_One'] !rounded-button shadow-md flex items-center justify-center gap-2 hover:bg-green-600 transition-all cursor-pointer">
<i class="fa-solid fa-check"></i>
Marquer Compl√©t√©
</button>
</div>
</div>
`;
// R√©attacher les √©v√©nements
document.getElementById('generate-button').addEventListener('click', generateNewChallenge);
// R√©initialiser les r√©f√©rences
brawlerImage = document.getElementById('brawler-image');
brawlerName = document.getElementById('brawler-name');
rankNumber = document.getElementById('rank-number');
rankBadge = document.getElementById('rank-badge');
brawlerContainer = document.getElementById('brawler-container');
break;
case 'history':
let historyHTML = `
<div class="w-full">
<h2 class="text-2xl text-gray-800 font-['Lilita_One'] mb-6 text-center">Historique des D√©fis</h2>
`;
if (challengeHistory.length === 0) {
historyHTML += `
<div class="bg-white/90 rounded-xl shadow-lg p-6 text-center">
<i class="ri-history-line ri-3x text-gray-400 mb-4"></i>
<p class="text-gray-600">Aucun d√©fi dans l'historique</p>
</div>
`;
} else {
historyHTML += `<div class="space-y-4">`;
challengeHistory.forEach((challenge, index) => {
const rankColorClass = challenge.rank >= 46 ? 'bg-purple-600' :
challenge.rank >= 36 ? 'bg-red-500' : 'bg-orange-500';
historyHTML += `
<div class="bg-white/90 rounded-xl shadow-lg overflow-hidden">
<div class="p-4 flex items-center">
<div class="w-16 h-16 rounded-full bg-primary/10 overflow-hidden flex-shrink-0">
<img src="${challenge.image}" alt="${challenge.brawlerName}" class="w-full h-full object-contain">
</div>
<div class="ml-4 flex-1">
<h3 class="text-lg text-gray-800 font-['Lilita_One']">${challenge.brawlerName}</h3>
<div class="flex items-center justify-between">
<span class="text-sm text-gray-500">${challenge.date}</span>
<div class="rank-badge text-sm font-['Lilita_One'] text-white px-3 py-1 rounded-lg ${rankColorClass}">
Rang ${challenge.rank}
</div>
</div>
</div>
</div>
</div>
`;
});
historyHTML += `</div>`;
}
historyHTML += `</div>`;
mainContent.innerHTML = historyHTML;
break;
case 'settings':
mainContent.innerHTML = `
<div class="w-full">
<h2 class="text-2xl text-gray-800 font-['Lilita_One'] mb-6 text-center">Param√®tres</h2>
<div class="bg-white/90 rounded-xl shadow-lg overflow-hidden">
<div class="p-6 space-y-6">
<div>
<h3 class="text-lg text-gray-800 font-['Lilita_One'] mb-3">Pr√©f√©rences</h3>
<div class="flex items-center justify-between py-2 border-b border-gray-200">
<span class="text-gray-700">Notifications</span>
<label class="relative inline-flex items-center cursor-pointer">
<input type="checkbox" value="" class="sr-only peer" checked>
<div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"></div>
</label>
</div>
<div class="flex items-center justify-between py-2 border-b border-gray-200">
<span class="text-gray-700">Son</span>
<label class="relative inline-flex items-center cursor-pointer">
<input type="checkbox" value="" class="sr-only peer" checked>
<div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"></div>
</label>
</div>
</div>
<div>
<h3 class="text-lg text-gray-800 font-['Lilita_One'] mb-3">√Ä propos</h3>
<div class="text-gray-700 space-y-2">
<p>Version: 1.0.0</p>
<p>D√©velopp√© par: <span class="font-['Pacifico']">logo</span></p>
</div>
</div>
<button id="clear-history" class="w-full py-3 bg-red-500 text-white font-['Lilita_One'] !rounded-button shadow-lg flex items-center justify-center gap-2 hover:bg-red-600 transition-all cursor-pointer mt-4">
<i class="ri-delete-bin-line ri-lg"></i>
Effacer l'historique
</button>
</div>
</div>
</div>
`;
// Ajouter l'√©v√©nement pour effacer l'historique
document.getElementById('clear-history').addEventListener('click', () => {
challengeHistory = [];
localStorage.removeItem('brawlChallengeHistory');
showToast('Historique effac√© avec succ√®s');
});
break;
}
}
function showToast(message) {
// Cr√©er un toast
const toast = document.createElement('div');
toast.className = 'fixed bottom-20 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white px-4 py-2 rounded-lg shadow-lg z-50 transition-opacity duration-300 opacity-0';
toast.textContent = message;
document.body.appendChild(toast);
// Afficher le toast
setTimeout(() => {
toast.classList.remove('opacity-0');
toast.classList.add('opacity-100');
}, 100);
// Masquer et supprimer le toast apr√®s 3 secondes
setTimeout(() => {
toast.classList.remove('opacity-100');
toast.classList.add('opacity-0');
setTimeout(() => {
document.body.removeChild(toast);
}, 300);
}, 3000);
}
// Fonctions pour les nouveaux boutons
function shareChallenge() {
const currentBrawler = brawlerName.textContent;
const currentRank = rankNumber.textContent;
// Cr√©er la modal de partage
const shareModal = document.createElement('div');
shareModal.className = 'share-modal';
shareModal.innerHTML = `
<div class="share-modal-content">
<div class="flex justify-between items-center mb-4">
<h3 class="text-xl font-['Lilita_One'] text-gray-800">Partager le d√©fi</h3>
<button class="close-modal text-gray-500 hover:text-gray-700">
<i class="ri-close-line ri-lg"></i>
</button>
</div>
<div class="mb-4 p-3 bg-gray-100 rounded-lg">
<p class="text-gray-700">J'ai un nouveau d√©fi Brawl Stars : atteindre le Rang ${currentRank} avec ${currentBrawler} ! üéÆ</p>
</div>
<div class="grid grid-cols-4 gap-4">
<button class="share-option flex flex-col items-center">
<div class="w-12 h-12 rounded-full bg-blue-500 flex items-center justify-center text-white mb-1">
<i class="ri-facebook-fill ri-lg"></i>
</div>
<span class="text-xs text-gray-600">Facebook</span>
</button>
<button class="share-option flex flex-col items-center">
<div class="w-12 h-12 rounded-full bg-sky-500 flex items-center justify-center text-white mb-1">
<i class="ri-twitter-x-fill ri-lg"></i>
</div>
<span class="text-xs text-gray-600">Twitter</span>
</button>
<button class="share-option flex flex-col items-center">
<div class="w-12 h-12 rounded-full bg-green-500 flex items-center justify-center text-white mb-1">
<i class="ri-whatsapp-fill ri-lg"></i>
</div>
<span class="text-xs text-gray-600">WhatsApp</span>
</button>
<button class="share-option flex flex-col items-center">
<div class="w-12 h-12 rounded-full bg-purple-500 flex items-center justify-center text-white mb-1">
<i class="ri-discord-fill ri-lg"></i>
</div>
<span class="text-xs text-gray-600">Discord</span>
</button>
</div>
<button class="copy-text w-full mt-4 py-3 bg-gray-200 text-gray-800 font-['Lilita_One'] !rounded-button flex items-center justify-center gap-2 hover:bg-gray-300 transition-all">
<i class="ri-clipboard-line ri-lg"></i>
Copier le texte
</button>
</div>
`;
document.body.appendChild(shareModal);
// Afficher la modal avec animation
setTimeout(() => {
shareModal.classList.add('active');
}, 50);
// Fermer la modal
shareModal.querySelector('.close-modal').addEventListener('click', () => {
shareModal.classList.remove('active');
setTimeout(() => {
document.body.removeChild(shareModal);
}, 300);
});
// Copier le texte
shareModal.querySelector('.copy-text').addEventListener('click', () => {
const textToCopy = `J'ai un nouveau d√©fi Brawl Stars : atteindre le Rang ${currentRank} avec ${currentBrawler} ! üéÆ`;
navigator.clipboard.writeText(textToCopy).then(() => {
showToast('Texte copi√© dans le presse-papier');
});
});
// G√©rer les options de partage
const shareOptions = shareModal.querySelectorAll('.share-option');
shareOptions.forEach(option => {
option.addEventListener('click', () => {
showToast('Partage en cours...');
setTimeout(() => {
shareModal.classList.remove('active');
setTimeout(() => {
document.body.removeChild(shareModal);
}, 300);
}, 1000);
});
});
}
function markAsCompleted() {
const currentBrawler = brawlerName.textContent;
const currentRank = rankNumber.textContent;
// Ajouter la classe pour l'effet visuel
brawlerContainer.classList.add('completed-challenge');
// D√©sactiver les boutons
document.getElementById('complete-button').disabled = true;
document.getElementById('complete-button').classList.remove('bg-green-500', 'hover:bg-green-600');
document.getElementById('complete-button').classList.add('bg-gray-400', 'hover:bg-gray-500');
document.getElementById('complete-button').innerHTML = '<i class="ri-check-double-line ri-lg"></i> Compl√©t√©';
// Mettre √† jour l'historique
updateChallengeStatus(currentBrawler, parseInt(currentRank), true);
// Afficher une confirmation
showConfirmation(`F√©licitations ! D√©fi avec ${currentBrawler} compl√©t√© !`);
// Apr√®s 3 secondes, proposer de g√©n√©rer un nouveau d√©fi
setTimeout(() => {
const newChallengePrompt = document.createElement('div');
newChallengePrompt.className = 'fixed bottom-24 left-1/2 transform -translate-x-1/2 bg-primary text-white px-4 py-3 rounded-lg shadow-lg z-50 transition-all duration-300 opacity-0 translate-y-[20px] flex items-center gap-2';
newChallengePrompt.innerHTML = `
<i class="ri-arrow-up-line ri-lg animate-bounce"></i>
<span>G√©n√©rer un nouveau d√©fi ?</span>
`;
document.body.appendChild(newChallengePrompt);
setTimeout(() => {
newChallengePrompt.classList.remove('opacity-0', 'translate-y-[20px]');
newChallengePrompt.classList.add('opacity-100', 'translate-y-0');
}, 100);
setTimeout(() => {
newChallengePrompt.classList.remove('opacity-100', 'translate-y-0');
newChallengePrompt.classList.add('opacity-0', 'translate-y-[20px]');
setTimeout(() => {
document.body.removeChild(newChallengePrompt);
}, 300);
}, 5000);
}, 3000);
}
function updateChallengeStatus(brawlerName, rank, completed) {
// Mettre √† jour le statut dans l'historique
for (let i = 0; i < challengeHistory.length; i++) {
if (challengeHistory[i].brawlerName === brawlerName && challengeHistory[i].rank === rank) {
challengeHistory[i].completed = completed;
break;
}
}
// Sauvegarder dans localStorage
localStorage.setItem('brawlChallengeHistory', JSON.stringify(challengeHistory));
}
// Modifier la fonction addToHistory pour inclure le statut
function addToHistory(brawlerName, rank, image) {
const date = new Date();
const formattedDate = `${date.getDate()}/${date.getMonth() + 1}/${date.getFullYear()}`;
challengeHistory.unshift({
brawlerName,
rank,
image,
date: formattedDate,
completed: false
});
// Limiter l'historique √† 20 entr√©es
if (challengeHistory.length > 20) {
challengeHistory.pop();
}
// Sauvegarder dans localStorage
localStorage.setItem('brawlChallengeHistory', JSON.stringify(challengeHistory));
}
// Modifier la fonction navigateTo pour l'historique
function navigateTo(page) {
const mainContent = document.querySelector('main');
const navLinks = document.querySelectorAll('footer a');
// Mettre √† jour les liens actifs
navLinks.forEach(link => {
link.classList.remove('text-primary');
link.classList.add('text-gray-500');
});
// Trouver le lien actif et le mettre en surbrillance
const activeLink = document.querySelector(`footer a[onclick="navigateTo('${page}')"]`);
if (activeLink) {
activeLink.classList.remove('text-gray-500');
activeLink.classList.add('text-primary');
}
// Afficher la page correspondante
switch(page) {
case 'home':
mainContent.innerHTML = `
<div id="brawler-container" class="brawler-card w-full bg-white/90 rounded-xl shadow-lg overflow-hidden">
<div class="p-6 flex flex-col items-center">
<div class="w-48 h-48 rounded-full bg-primary/10 mb-4 overflow-hidden flex items-center justify-center">
<img id="brawler-image" src="${brawlerImage.src}" alt="Brawler" class="w-full h-full object-contain">
</div>
<h2 id="brawler-name" class="text-2xl text-gray-800 font-['Lilita_One'] mb-2">${brawlerName.textContent}</h2>
<div class="w-full mt-4">
<div class="text-center mb-2 text-gray-600 font-medium">Objectif</div>
<div id="rank-container" class="flex items-center justify-center">
<div id="rank-badge" class="rank-badge text-4xl font-['Lilita_One'] text-white px-6 py-3 rounded-xl ${rankBadge.className.split(' ').filter(c => c.startsWith('bg-')).join(' ')}">
Rang <span id="rank-number">${rankNumber.textContent}</span>
</div>
</div>
<div class="text-center mt-4 text-sm text-gray-500">
Atteins ce rang avec ce Brawler !
</div>
</div>
</div>
</div>
<div class="w-full space-y-4">
<button id="generate-button" class="button-generate w-full py-4 bg-primary text-white text-xl font-['Lilita_One'] !rounded-button shadow-lg flex items-center justify-center gap-2 hover:bg-primary/90 transition-all cursor-pointer">
<i class="fa-solid fa-rotate"></i>
G√©n√©rer Nouveau D√©fi
</button>
<div class="flex gap-3">
<button id="share-button" class="w-1/2 py-3 bg-secondary text-white font-['Lilita_One'] !rounded-button shadow-md flex items-center justify-center gap-2 hover:bg-secondary/90 transition-all cursor-pointer">
<i class="fa-solid fa-arrow-up-from-bracket"></i>
Partager
</button>
<button id="complete-button" class="w-1/2 py-3 bg-green-500 text-white font-['Lilita_One'] !rounded-button shadow-md flex items-center justify-center gap-2 hover:bg-green-600 transition-all cursor-pointer">
<i class="fa-solid fa-check"></i>
Marquer Compl√©t√©
</button>
</div>
</div>
`;
// R√©attacher les √©v√©nements
document.getElementById('generate-button').addEventListener('click', generateNewChallenge);
document.getElementById('share-button').addEventListener('click', shareChallenge);
document.getElementById('complete-button').addEventListener('click', markAsCompleted);
// R√©initialiser les r√©f√©rences
brawlerImage = document.getElementById('brawler-image');
brawlerName = document.getElementById('brawler-name');
rankNumber = document.getElementById('rank-number');
rankBadge = document.getElementById('rank-badge');
brawlerContainer = document.getElementById('brawler-container');
// V√©rifier si le d√©fi actuel est d√©j√† compl√©t√©
const currentBrawler = brawlerName.textContent;
const currentRank = parseInt(rankNumber.textContent);
const isCompleted = challengeHistory.some(challenge =>
challenge.brawlerName === currentBrawler &&
challenge.rank === currentRank &&
challenge.completed === true
);
if (isCompleted) {
brawlerContainer.classList.add('completed-challenge');
document.getElementById('complete-button').disabled = true;
document.getElementById('complete-button').classList.remove('bg-green-500', 'hover:bg-green-600');
document.getElementById('complete-button').classList.add('bg-gray-400', 'hover:bg-gray-500');
document.getElementById('complete-button').innerHTML = '<i class="ri-check-double-line ri-lg"></i> Compl√©t√©';
}
break;
case 'history':
let historyHTML = `
<div class="w-full">
<h2 class="text-2xl text-white font-['Lilita_One'] mb-6 text-center">Historique des D√©fis</h2>
`;
if (challengeHistory.length === 0) {
historyHTML += `
<div class="bg-white/90 rounded-xl shadow-lg p-6 text-center">
<i class="fa-solid fa-clock-rotate-left fa-2xl" style="color: #696969;"></i>
<p class="text-gray-600">Aucun d√©fi dans l'historique</p>
</div>
`;
} else {
historyHTML += `<div class="space-y-4">`;
challengeHistory.forEach((challenge, index) => {
const rankColorClass = challenge.rank >= 46 ? 'bg-purple-600' :
challenge.rank >= 36 ? 'bg-red-500' : 'bg-orange-500';
// Ajouter la classe pour les d√©fis compl√©t√©s
const completedClass = challenge.completed ? 'border-2 border-green-500' : '';
const completedIcon = challenge.completed ? '<i class="ri-check-double-line text-green-500 ri-lg absolute top-2 right-2"></i>' : '';
historyHTML += `
<div class="bg-white/90 rounded-xl shadow-lg overflow-hidden relative ${completedClass}" data-index="${index}">
${completedIcon}
<div class="p-4 flex items-center">
<div class="w-16 h-16 rounded-full bg-primary/10 overflow-hidden flex-shrink-0">
<img src="${challenge.image}" alt="${challenge.brawlerName}" class="w-full h-full object-contain">
</div>
<div class="ml-4 flex-1">
<h3 class="text-lg text-gray-800 font-['Lilita_One']">${challenge.brawlerName}</h3>
<div class="flex items-center justify-between">
<span class="text-sm text-gray-500">${challenge.date}</span>
<div class="rank-badge text-sm font-['Lilita_One'] text-white px-3 py-1 rounded-lg ${rankColorClass}">
Rang ${challenge.rank}
</div>
</div>
</div>
</div>
<div class="flex border-t border-gray-100">
${challenge.completed ? 
`<button class="flex-1 py-2 text-gray-400 font-medium text-sm flex items-center justify-center gap-1 bg-gray-50">
<i class="ri-check-double-line"></i>
Compl√©t√©
</button>` : 
`<button class="complete-history-btn flex-1 py-2 text-green-600 font-medium text-sm flex items-center justify-center gap-1 hover:bg-green-50 transition-colors">
<i class="ri-check-line"></i>
Marquer compl√©t√©
</button>`}
<button class="delete-history-btn flex-1 py-2 text-red-500 font-medium text-sm flex items-center justify-center gap-1 border-l border-gray-100 hover:bg-red-50 transition-colors">
<i class="fa-solid fa-trash"></i>
Supprimer
</button>
</div>
</div>
`;
});
historyHTML += `</div>`;
}
historyHTML += `</div>`;
mainContent.innerHTML = historyHTML;
// Ajouter les √©v√©nements pour les boutons dans l'historique
const completeButtons = document.querySelectorAll('.complete-history-btn');
completeButtons.forEach(button => {
  button.addEventListener('click', function() {
    const challengeCard = this.closest('[data-index]');
    const index = parseInt(challengeCard.dataset.index);
    
    // Mettre √† jour le statut dans l'historique
    challengeHistory[index].completed = true;
    localStorage.setItem('brawlChallengeHistory', JSON.stringify(challengeHistory));
    
    // Mettre √† jour l'interface
    challengeCard.classList.add('border-2', 'border-green-500');
    const checkIcon = document.createElement('i');
    checkIcon.className = 'ri-check-double-line text-green-500 ri-lg absolute top-2 right-2';
    challengeCard.appendChild(checkIcon);
    
    // Remplacer le bouton
    const buttonContainer = this.parentElement;
    buttonContainer.innerHTML = `
      <button class="flex-1 py-2 text-gray-400 font-medium text-sm flex items-center justify-center gap-1 bg-gray-50">
        <i class="ri-check-double-line"></i>
        Compl√©t√©
      </button>
      <button class="delete-history-btn flex-1 py-2 text-red-500 font-medium text-sm flex items-center justify-center gap-1 border-l border-gray-100 hover:bg-red-50 transition-colors">
        <i class="fa-solid fa-trash"></i>
        Supprimer
      </button>
    `;
    
    // R√©attacher l'√©v√©nement de suppression
    buttonContainer.querySelector('.delete-history-btn').addEventListener('click', deleteHistoryItem);
    
    showToast('D√©fi marqu√© comme compl√©t√© !');
  });
});
const deleteButtons = document.querySelectorAll('.delete-history-btn');
deleteButtons.forEach(button => {
  button.addEventListener('click', deleteHistoryItem);
});
function deleteHistoryItem() {
  const challengeCard = this.closest('[data-index]');
  const index = parseInt(challengeCard.dataset.index);
  
  // Cr√©er une confirmation de suppression
  const confirmModal = document.createElement('div');
  confirmModal.className = 'share-modal';
  confirmModal.innerHTML = `
    <div class="share-modal-content">
      <div class="flex justify-between items-center mb-4">
        <h3 class="text-xl font-['Lilita_One'] text-gray-800">Confirmer la suppression</h3>
        <button class="close-modal text-gray-500 hover:text-gray-700">
          <i class="ri-close-line ri-lg"></i>
        </button>
      </div>
      <p class="mb-6 text-gray-600">√ätes-vous s√ªr de vouloir supprimer ce d√©fi de l'historique ?</p>
      <div class="flex gap-3">
        <button class="cancel-delete w-1/2 py-3 bg-gray-200 text-gray-700 font-['Lilita_One'] !rounded-button flex items-center justify-center gap-2 hover:bg-gray-300 transition-all">
          Annuler
        </button>
        <button class="confirm-delete w-1/2 py-3 bg-red-500 text-white font-['Lilita_One'] !rounded-button flex items-center justify-center gap-2 hover:bg-red-600 transition-all">
          Supprimer
        </button>
      </div>
    </div>
  `;
  document.body.appendChild(confirmModal);
  
  // Afficher la modal avec animation
  setTimeout(() => {
    confirmModal.classList.add('active');
  }, 50);
  
  // G√©rer les √©v√©nements de la modal
  confirmModal.querySelector('.close-modal').addEventListener('click', () => {
    confirmModal.classList.remove('active');
    setTimeout(() => {
      document.body.removeChild(confirmModal);
    }, 300);
  });
  
  confirmModal.querySelector('.cancel-delete').addEventListener('click', () => {
    confirmModal.classList.remove('active');
    setTimeout(() => {
      document.body.removeChild(confirmModal);
    }, 300);
  });
  
  confirmModal.querySelector('.confirm-delete').addEventListener('click', () => {
    // Supprimer l'√©l√©ment de l'historique
    challengeHistory.splice(index, 1);
    localStorage.setItem('brawlChallengeHistory', JSON.stringify(challengeHistory));
    
    // Animation de suppression
    challengeCard.style.transition = 'all 0.3s ease';
    challengeCard.style.transform = 'translateX(100%)';
    challengeCard.style.opacity = '0';
    
    setTimeout(() => {
      challengeCard.remove();
      
      // Si l'historique est vide, mettre √† jour l'affichage
      if (challengeHistory.length === 0) {
        const historyContainer = document.querySelector('.space-y-4');
        if (historyContainer) {
          historyContainer.innerHTML = `
            <div class="bg-white/90 rounded-xl shadow-lg p-6 text-center">
              <i class="fa-solid fa-clock-rotate-left fa-2xl" style="color: #696969;"></i>
              <p class="text-gray-600">Aucun d√©fi dans l'historique</p>
            </div>
          `;
        }
      }
      
      showToast('D√©fi supprim√© de l\'historique');
      
      // Fermer la modal
      confirmModal.classList.remove('active');
      setTimeout(() => {
        document.body.removeChild(confirmModal);
      }, 300);
    }, 300);
  });
}
break;
case 'settings':
mainContent.innerHTML = `
<div class="w-full">
<h2 class="text-2xl text-gray-800 font-['Lilita_One'] mb-6 text-center">Param√®tres</h2>
<div class="bg-white/90 rounded-xl shadow-lg overflow-hidden">
<div class="p-6 space-y-6">
<div>
<h3 class="text-lg text-gray-800 font-['Lilita_One'] mb-3">Pr√©f√©rences</h3>
<div class="flex items-center justify-between py-2 border-b border-gray-200">
<span class="text-gray-700">Notifications</span>
<label class="relative inline-flex items-center cursor-pointer">
<input type="checkbox" value="" class="sr-only peer" checked>
<div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"></div>
</label>
</div>
<div class="flex items-center justify-between py-2 border-b border-gray-200">
<span class="text-gray-700">Son</span>
<label class="relative inline-flex items-center cursor-pointer">
<input type="checkbox" value="" class="sr-only peer" checked>
<div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"></div>
</label>
</div>
</div>
<button id="clear-history" class="w-full py-3 bg-red-500 text-white font-['Lilita_One'] !rounded-button shadow-lg flex items-center justify-center gap-2 hover:bg-red-600 transition-all cursor-pointer mt-4">
<i class="fa-solid fa-trash"></i>
Effacer l'historique
</button>
<div>
<h3 class="text-lg text-gray-800 font-['Lilita_One'] mb-3">√Ä propos</h3>
<div class="text-gray-700 space-y-2">
<p>Version: 1.0.0</p>
<p>D√©velopp√© par: <span class="font-['Lilita_One']">SRKP_Rayzor</span></p>
</div>
</div>
</div>
</div>
</div>
`;
// Ajouter l'√©v√©nement pour effacer l'historique
document.getElementById('clear-history').addEventListener('click', () => {
challengeHistory = [];
localStorage.removeItem('brawlChallengeHistory');
showToast('Historique effac√© avec succ√®s');
});
break;
}
}
// Initialisation
generateButton.addEventListener('click', generateNewChallenge);
document.getElementById('share-button').addEventListener('click', shareChallenge);
document.getElementById('complete-button').addEventListener('click', markAsCompleted);
loadHistory();
updateRankColor(parseInt(rankNumber.textContent));
</script>
</body>
</html>
